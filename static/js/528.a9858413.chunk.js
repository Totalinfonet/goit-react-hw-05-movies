"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[528],{528:function(e,r,n){n.r(r),n.d(r,{default:function(){return Z}});var t,o,a,s,i=n(168),c=n(861),u=n(439),p=n(687),l=n.n(p),h=n(791),f=n(87),d=n(689),v=n(934),m=v.Z.form(t||(t=(0,i.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n"]))),g=v.Z.input(o||(o=(0,i.Z)(["\n  font-size: 1rem;\n  padding: 0.5rem;\n  border: none;\n  border-radius: 0.5rem;\n  outline: none;\n  margin-right: 0.5rem;\n  width: 100%;\n  max-width: 20rem;\n  box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2);\n  &:focus {\n    box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.5);\n  }\n"]))),w=v.Z.button(a||(a=(0,i.Z)(["\n  font-size: 1rem;\n  padding: 0.5rem 1rem;\n  border: none;\n  border-radius: 0.5rem;\n  outline: none;\n  background-color: #333;\n  color: #fff;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  &:hover {\n    background-color: #555;\n    color: orange;\n  }\n"]))),x=n(184),b=function(e){var r=e.onSearch,n=(0,h.useState)(""),t=(0,u.Z)(n,2),o=t[0],a=t[1];return(0,x.jsxs)(m,{onSubmit:function(e){e.preventDefault(),""!==o?r(o):alert("Please enter a search query")},children:[(0,x.jsx)(g,{type:"text",value:o,onChange:function(e){a(e.target.value)}}),(0,x.jsx)(w,{type:"submit",children:"Search"})]})},y=n(647),Z=function(){var e=(0,h.useState)(""),r=(0,u.Z)(e,2),n=r[0],t=r[1],o=(0,h.useState)([]),a=(0,u.Z)(o,2),s=a[0],i=a[1],p=(0,h.useState)(!1),v=(0,u.Z)(p,2),m=v[0],g=v[1],w=(0,d.TH)(),Z=(0,f.lr)(),_=(0,u.Z)(Z,2),j=_[0],E=_[1],S=function(){var e=(0,c.Z)(l().mark((function e(r){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(r),g(!0),e.next=4,y.Z.searchMovies(r);case 4:n=e.sent,i(n),E({query:r});case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),M=(0,h.useMemo)((function(){return""===n?[]:s}),[n,s]),q=new URLSearchParams(w.search).get("query")||"";return""!==q&&""===n&&(t(q),g(!0),y.Z.searchMovies(q).then(i)),console.log(j),(0,x.jsxs)(k,{children:[(0,x.jsx)(b,{onSearch:S,initialValue:q}),m&&0===M.length&&(0,x.jsxs)("p",{children:['No results found for "',n,'"']}),M.length>0&&(0,x.jsx)("ul",{children:M.map((function(e){return(0,x.jsx)("li",{children:(0,x.jsx)(f.rU,{to:"/movies/".concat(e.id),state:{from:w},children:e.title})},e.id)}))})]})},k=v.Z.div(s||(s=(0,i.Z)(["\n  p {\n    font-size: 2rem;\n    font-weight: bold;\n    margin-bottom: 1rem;\n  }\n\n  ul {\n    list-style-type: disclosure-closed;\n    margin-left: 48px;\n    padding: 0;\n\n    li {\n      margin-bottom: 0.5rem;\n    }\n\n    a {\n      color: blue;\n      text-decoration: none;\n\n      &:hover {\n        text-decoration: underline;\n        font-weight: bold;\n      }\n    }\n  }\n"])))},647:function(e,r,n){var t=n(861),o=n(687),a=n.n(o),s=n(243),i="68685731643ea27d6deb89fd83fc916a",c="https://api.themoviedb.org/3/trending/movie/day",u="https://api.themoviedb.org/3/movie/",p="https://api.themoviedb.org/3/search/movie";function l(){return(l=(0,t.Z)(a().mark((function e(){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get(c,{params:{api_key:i}});case 3:return r=e.sent,e.abrupt("return",r.data.results);case 7:throw e.prev=7,e.t0=e.catch(0),console.error(e.t0),new Error("Error getting trending movies");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function h(){return(h=(0,t.Z)(a().mark((function e(r){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("".concat(u,"/").concat(r),{params:{api_key:i}});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error(e.t0),new Error("Error getting movie info");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function f(){return(f=(0,t.Z)(a().mark((function e(r){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get(p,{params:{api_key:i,query:r}});case 3:return n=e.sent,e.abrupt("return",n.data.results);case 7:throw e.prev=7,e.t0=e.catch(0),console.error(e.t0),new Error("Error searching movies");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function d(){return(d=(0,t.Z)(a().mark((function e(r){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("".concat(u).concat(r,"/credits"),{params:{api_key:i}});case 3:return n=e.sent,e.abrupt("return",n.data.cast);case 7:throw e.prev=7,e.t0=e.catch(0),console.error(e.t0),new Error("Error getting movie credits");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function v(){return(v=(0,t.Z)(a().mark((function e(r){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("".concat(u).concat(r,"/reviews"),{params:{api_key:i}});case 3:return n=e.sent,e.abrupt("return",n.data.results);case 7:throw e.prev=7,e.t0=e.catch(0),console.error(e.t0),new Error("Error getting movie reviews");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var m={getTrendingMovies:function(){return l.apply(this,arguments)},getMovieInfo:function(e){return h.apply(this,arguments)},searchMovies:function(e){return f.apply(this,arguments)},getMovieCast:function(e){return d.apply(this,arguments)},getMovieReviews:function(e){return v.apply(this,arguments)}};r.Z=m}}]);
//# sourceMappingURL=528.a9858413.chunk.js.map