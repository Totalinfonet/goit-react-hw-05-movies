"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[528],{528:function(e,r,n){n.r(r),n.d(r,{default:function(){return Z}});var t,a,o,s=n(861),c=n(439),i=n(687),u=n.n(i),p=n(791),l=n(87),h=n(689),f=n(168),v=n(934),d=v.Z.form(t||(t=(0,f.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n"]))),m=v.Z.input(a||(a=(0,f.Z)(["\n  font-size: 1rem;\n  padding: 0.5rem;\n  border: none;\n  border-radius: 0.5rem;\n  outline: none;\n  margin-right: 0.5rem;\n  width: 100%;\n  max-width: 20rem;\n  box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2);\n  &:focus {\n    box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.5);\n  }\n"]))),g=v.Z.button(o||(o=(0,f.Z)(["\n  font-size: 1rem;\n  padding: 0.5rem 1rem;\n  border: none;\n  border-radius: 0.5rem;\n  outline: none;\n  background-color: #333;\n  color: #fff;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  &:hover {\n    background-color: #555;\n    color: orange;\n  }\n"]))),w=n(184),x=function(e){var r=e.onSearch,n=(0,p.useState)(""),t=(0,c.Z)(n,2),a=t[0],o=t[1];return(0,w.jsxs)(d,{onSubmit:function(e){e.preventDefault(),""!==a?r(a):alert("Please enter a search query")},children:[(0,w.jsx)(m,{type:"text",value:a,onChange:function(e){o(e.target.value)}}),(0,w.jsx)(g,{type:"submit",children:"Search"})]})},y=n(647),Z=function(){var e=(0,p.useState)(""),r=(0,c.Z)(e,2),n=r[0],t=r[1],a=(0,p.useState)([]),o=(0,c.Z)(a,2),i=o[0],f=o[1],v=(0,p.useState)(!1),d=(0,c.Z)(v,2),m=d[0],g=d[1],Z=(0,h.TH)(),b=(0,l.lr)(),k=(0,c.Z)(b,2),_=k[0],j=k[1],E=function(){var e=(0,s.Z)(u().mark((function e(r){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(r),g(!0),e.next=4,y.Z.searchMovies(r);case 4:n=e.sent,f(n),j({query:r});case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),S=(0,p.useMemo)((function(){return""===n?[]:i}),[n,i]),M=new URLSearchParams(Z.search).get("query")||"";return""!==M&&""===n&&(t(M),g(!0),y.Z.searchMovies(M).then(f)),console.log(_),(0,w.jsxs)("div",{children:[(0,w.jsx)(x,{onSearch:E,initialValue:M}),m&&0===S.length&&(0,w.jsxs)("p",{children:['No results found for "',n,'"']}),S.length>0&&(0,w.jsx)("ul",{children:S.map((function(e){return(0,w.jsx)("li",{children:(0,w.jsx)(l.rU,{to:"/movies/".concat(e.id),state:{from:Z},children:e.title})},e.id)}))})]})}},647:function(e,r,n){var t=n(861),a=n(687),o=n.n(a),s=n(243),c="68685731643ea27d6deb89fd83fc916a",i="https://api.themoviedb.org/3/trending/movie/day",u="https://api.themoviedb.org/3/movie/",p="https://api.themoviedb.org/3/search/movie";function l(){return(l=(0,t.Z)(o().mark((function e(){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get(i,{params:{api_key:c}});case 3:return r=e.sent,e.abrupt("return",r.data.results);case 7:throw e.prev=7,e.t0=e.catch(0),console.error(e.t0),new Error("Error getting trending movies");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function h(){return(h=(0,t.Z)(o().mark((function e(r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("".concat(u,"/").concat(r),{params:{api_key:c}});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error(e.t0),new Error("Error getting movie info");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function f(){return(f=(0,t.Z)(o().mark((function e(r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get(p,{params:{api_key:c,query:r}});case 3:return n=e.sent,e.abrupt("return",n.data.results);case 7:throw e.prev=7,e.t0=e.catch(0),console.error(e.t0),new Error("Error searching movies");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function v(){return(v=(0,t.Z)(o().mark((function e(r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("".concat(u).concat(r,"/credits"),{params:{api_key:c}});case 3:return n=e.sent,e.abrupt("return",n.data.cast);case 7:throw e.prev=7,e.t0=e.catch(0),console.error(e.t0),new Error("Error getting movie credits");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function d(){return(d=(0,t.Z)(o().mark((function e(r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("".concat(u).concat(r,"/reviews"),{params:{api_key:c}});case 3:return n=e.sent,e.abrupt("return",n.data.results);case 7:throw e.prev=7,e.t0=e.catch(0),console.error(e.t0),new Error("Error getting movie reviews");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var m={getTrendingMovies:function(){return l.apply(this,arguments)},getMovieInfo:function(e){return h.apply(this,arguments)},searchMovies:function(e){return f.apply(this,arguments)},getMovieCast:function(e){return v.apply(this,arguments)},getMovieReviews:function(e){return d.apply(this,arguments)}};r.Z=m}}]);
//# sourceMappingURL=528.7521ffda.chunk.js.map